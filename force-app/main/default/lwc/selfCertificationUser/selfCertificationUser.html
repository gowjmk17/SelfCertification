<template>
<template if:true={showForm}>
  <!-- Pricing Card Above -->

  <div class="slds-m-bottom_medium">
    <lightning-card title="Certification Pricing" class="slds-m-bottom_medium">
      <div class="slds-p-around_medium">
        <lightning-layout horizontal-align="start">
          <lightning-layout-item>
            <p><strong>Country:</strong> {country}</p>
          </lightning-layout-item>
          <lightning-layout-item class="slds-m-left_medium">
            <p><strong>Price:</strong> {price}</p>
          </lightning-layout-item>
        </lightning-layout>
      </div>
    </lightning-card>
  </div>
  <!-- Self-Certification Card -->
  <div>
    <lightning-card title="Self-Certification">
      <div class="slds-p-around_medium">
        <!-- Form -->
        <lightning-input
          label="User Name"
          value={userName}
          disabled
        ></lightning-input>
        <lightning-input
          label="Country"
          value={country}
          disabled
        ></lightning-input>
        <lightning-input
          label="Certification Period"
          value={certificationPeriod}
          disabled
        ></lightning-input>
        <lightning-input
          label="Certification Date"
          value={certificationDate}
          disabled
        ></lightning-input>
        <lightning-textarea
          label="Comments"
          value={comments}
          onchange={handleCommentsChange}
        ></lightning-textarea>

        <lightning-input
          type="checkbox"
          label="I confirm the accuracy of this certification."
          checked={confirmation}
          onchange={handleConfirmationChange}
        ></lightning-input>

        <lightning-input
          type="checkbox"
          label="I agree this serves as my e-signature."
          checked={eSignature}
          onchange={handleESignatureChange}
        ></lightning-input>
          <lightning-file-upload
              label="Upload Signed PDF"
              name="fileUploader"
              record-id={recordId}
              accept=".pdf"
              onuploadfinished={handleUploadFinished}
            ></lightning-file-upload>

        <div class="slds-m-top_medium">
          <lightning-button
            label="Submit"
            variant="brand"
            onclick={handleSubmit}
          ></lightning-button>
        </div>
      </div>
    </lightning-card>
  </div>
</template>

  <template if:true={submittedRecord}>
    <div class="slds-m-top_medium">
      <lightning-card title="Submitted Certification Details">
        <div class="slds-p-around_medium">
          <p><strong>User Name:</strong> {submittedRecord.userName}</p>
          <p><strong>Country:</strong> {submittedRecord.country}</p>
          <p><strong>Certification Period:</strong> {submittedRecord.certificationPeriod}</p>
          <p><strong>Certification Date:</strong> {submittedRecord.certificationDate}</p>
          <p><strong>Confirmation:</strong>
            <template if:true={submittedRecord.confirmation}>Yes</template>
            <template if:false={submittedRecord.confirmation}>No</template>
          </p>
          <p><strong>E-Signature:</strong>
            <template if:true={submittedRecord.eSignature}>Yes</template>
            <template if:false={submittedRecord.eSignature}>No</template>
          </p>
          <div class="slds-m-top_medium">
            <lightning-button
              label="Back"
              onclick={handleBack}
            ></lightning-button>
          </div>
        </div>
      </lightning-card>
    </div>
  </template>


  
</template>
